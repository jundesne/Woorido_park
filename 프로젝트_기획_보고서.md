# WOORIDO (우리두) 프로젝트 기획 보고서

> **작성일**: 2026-01-03
> **데모 데이**: 2026-02-25
> **프로젝트 기간**: 68일 (10주)

---

## 📌 1. 프로젝트 개요

### 1.1 프로젝트명
**WOORIDO (우리두)**

**슬로건**: "기술로 신뢰를 보증하는 가장 안전한 취향 공동체"

### 1.2 프로젝트 설명
KH정보교육원 **Python & Elasticsearch 기반 금융 솔루션 개발자 아카데미** 팀 프로젝트

**핵심 미션**: "고객 수입·지출 데이터 분석 기반 지역 계모임 운영 솔루션 구축"

---

## 🎯 2. 기획 의도

### 2.1 해결하고자 하는 문제

#### 시장 현황
| 지표 | 수치 | 출처 |
|------|------|------|
| 모임통장 이용자 수 | **1,220만 명** | 카카오뱅크 |
| 모임통장 잔액 규모 | **12조 원** | 2025년 기준 |
| 전년 대비 성장률 | **30% 증가** | 카카오뱅크 |
| 팬덤/취향 시장 규모 | **7조 9천억 원** | IBK투자증권 |

#### 기존 서비스의 한계
1. **카카오 모임통장 - 신뢰 불안**
   - 모임통장이지만 결국 개인 통장 → 총무 횡령/먹튀 위험
   - 법적 보호 장치 미비

2. **아임인 - 구조적 문제**
   - 특정 순번 쏠림 현상 → 계 자체가 시작되지 못함

3. **소모임 - 신뢰도 하락**
   - 돈을 모으는 금융 기능 부재

### 2.2 우리두의 해답: 신뢰 트라이포드

> **"돈은 시스템이 관리하고, 사람은 운영만 한다."**

```
              [신뢰 트라이포드]
                    △
                   /|\
                  / | \
                 /  |  \
    ┌───────────┐ ┌─┴─┐ ┌───────────┐
    │ 선충전 락  │ │장부│ │ 결제 감시  │
    │(Deposit   │ │투명│ │ 다각화    │
    │   Lock)   │ │ 화 │ │(Consensus │
    └───────────┘ └───┘ │   Pay)    │
                        └───────────┘
         +
    ┌─────────────────────────────────┐
    │  🔍 Elasticsearch 취향 검색     │
    │  "Rate(이자)보다 Taste(취향)"   │
    └─────────────────────────────────┘
```

#### 4대 코어 기능

| 코어 | 기능 | 해결하는 문제 |
|------|------|--------------|
| **🔒 선충전 락** | 3개월치 보증금 선입금으로 신뢰 확보 | 중도 이탈, 먹튀 방지 |
| **📊 장부 투명화** | 1원 단위까지 투명한 오픈 원장 | 총무 횡령, 불투명한 자금 흐름 |
| **🗳️ 결제 감시 다각화** | 투표 기반 지출 승인 시스템 | 일방적 지출, 권한 남용 |
| **🔍 취향 검색** | Elasticsearch 태그/텍스트/위치 검색 | 어울리지 않는 구성원 매칭 |

### 2.3 핵심 차별점

**CP (Community Producer) = 계주 ≠ 자금 관리자**
- 계주는 커뮤니티 운영 권한만 보유
- **자금 접근 권한은 0** → 시스템만이 돈을 통제
- "믿음"이 아닌 **"코드"**로 작동하는 계모임

---

## 🛠️ 3. 기술 스택

### 3.1 시스템 아키텍처

```
┌─────────────────────────────────────────┐
│          Frontend (React + TS)          │
│  - Recharts 장부 차트                    │
│  - 반응형 웹앱 (Mobile-First)            │
│  - Storybook 10.1.8 (67개 컴포넌트)      │
└───────────────┬─────────────────────────┘
                │ REST API (JSON)
                ▼
┌─────────────────────────────────────────┐
│      Spring Boot (Main Backend)         │
│  - Oracle DB 단독 연동 (JDBC)            │
│  - JWT 인증 및 권한 관리                 │
│  - Elasticsearch 검색 연동               │
└──────┬──────────────┬───────────┬───────┘
       │ JDBC         │ HTTP API  │ REST API
       ▼              ▼           ▼
┌─────────────┐  ┌─────────────┐  ┌─────────────────┐
│  Oracle DB  │  │   Django    │  │  Elasticsearch  │
│   (금고)    │  │   (두뇌)    │  │    (광장)       │
└─────────────┘  └─────────────┘  └─────────────────┘
```

### 3.2 기술 명세

| 레이어 | 기술 스택 | 버전 | 역할 |
|--------|----------|------|------|
| **Frontend** | React + TypeScript | 18.3 / 5.3 | 반응형 웹앱, Mobile-First |
| | Recharts | 2.12 | 장부 데이터 시각화 |
| | Radix UI | Latest | 접근성 기반 컴포넌트 |
| | Storybook | 10.1.8 | 컴포넌트 문서화 (67 stories) |
| | Tailwind CSS | 3.x | 반응형 유틸리티 |
| | TanStack Query | 5.90.12 | 서버 상태 관리 |
| | Zustand | Latest | 클라이언트 상태 관리 |
| **Main Backend** | Spring Boot | 3.1.18 | 비즈니스 로직, API 게이트웨이 |
| | Spring Security + JWT | - | 인증/권한 관리 |
| | MyBatis | 3.5.16 | SQL Mapper |
| **Analytics** | Django | 5.1 | 데이터 분석 서버 |
| | pandas | 2.2.x | 지출 통계 집계 |
| | numpy | 2.2.x | 수치 연산 |
| **Database** | Oracle 21c XE | Docker | 자금 무결성 트랜잭션 (ACID) |
| **Search Engine** | Elasticsearch | 8.x | 취향/태그/위치 기반 검색 |
| **Monitoring** | Kibana | 8.x | 데이터 시각화, 로그 모니터링 |
| **Deployment** | Vercel (FE) / Docker (BE) | - | 클라우드 배포 |

### 3.3 데이터 흐름 (CQRS Lite)

- **Command (Write):** 입금, 출금, 투표 → Spring Boot + Oracle (ACID 보장)
- **Query (Read):** 모임 검색, 추천 → Elasticsearch (고속 검색)
- **Sync:** Spring Event를 통해 Oracle → Elasticsearch 실시간 동기화

---

## 📱 4. 주요 유스케이스

### 4.1 회원 관리

#### UC-001: 회원 가입 및 온보딩
**액터**: 신규 사용자

**플로우**:
1. 이메일/비밀번호로 회원 가입
2. 재정 프로필 등록 (온보딩)
   - 월 수입 입력
   - 월 지출 입력
   - 지출 카테고리 비율 입력
3. Django가 재정 분석 수행
   - 적정 월 납입금 계산
   - 재정 건전성 점수 산출 (0-100점)
   - 리스크 등급 평가 (low/medium/high)
4. 신뢰 점수 초기화
5. 계모임 추천 페이지로 이동

**결과**: 사용자 등록 완료, 재정 프로필 생성

---

### 4.2 계모임 관리

#### UC-002: 계모임 생성
**액터**: 계주 (CP)

**플로우**:
1. 계모임 생성 화면 진입
2. 계모임 정보 입력
   - 이름: "책벌레들"
   - 설명: "독서를 사랑하는 사람들의 모임"
   - 월 납입금: 100,000원
   - 최대 인원: 10명
   - 시작일: 2026-02-01
   - 카테고리: 문화/예술
   - 태그: #독서 #문학 #자기계발
3. 계모임 생성 완료
4. 생성자 자동 가입 (orderNumber: 1)
5. 보증금 3개월치 (300,000원) Lock

**결과**: 계모임 생성, 모집 상태 (recruiting)

---

#### UC-003: 계모임 가입
**액터**: 일반 사용자

**플로우**:
1. 계모임 검색/추천 목록에서 선택
2. 상세 정보 확인
   - 월 납입금
   - 현재 멤버 수
   - 계주 정보
   - 계 규칙
3. 가입 신청
4. 우리두 어카운트 잔액 확인
   - 필요 금액: 200,000원 (100k 납입 + 100k 보증금)
   - 잔액 부족 시 → 충전 화면 이동
5. 가입 확인 모달
6. 가입 완료
   - 100,000원: 계모임 금고 입금
   - 100,000원: 보증금 Lock
7. SNS 피드에 가입 안내 자동 게시

**결과**: 계모임 멤버 추가, 보증금 Lock

---

#### UC-004: 계모임 추천 받기
**액터**: 일반 사용자

**플로우**:
1. 추천 페이지 진입
2. Spring Boot → Django 분석 요청
   - 사용자 재정 프로필 전달
   - 가용 계모임 목록 전달
3. Django 매칭 분석
   - 재정 적합성 계산 (40%)
   - 취향 일치율 계산 (35%)
   - 신뢰 점수 유사도 계산 (25%)
4. Elasticsearch 검색 결합
   - 태그 매칭
   - 카테고리 필터
5. 추천 결과 표시 (매칭 점수 내림차순)
   - 계모임 정보
   - 매칭 점수 (0-100)
   - 추천 이유
   - 재정 적합성 상태

**결과**: 개인화된 계모임 추천 목록

---

### 4.3 자금 관리

#### UC-005: 우리두 어카운트 충전
**액터**: 일반 사용자

**플로우**:
1. 충전 화면 진입
2. 충전 금액 입력 (최소 10,000원)
3. 토스페이 결제 화면 이동 (MVP)
4. 결제 완료
5. 우리두 어카운트 가용 잔액 증가

**결과**: 가용 잔액 증가

---

#### UC-006: 우리두 어카운트 출금
**액터**: 일반 사용자

**플로우**:
1. 출금 화면 진입
2. 출금 가능 금액 확인 (가용 잔액, Lock 제외)
3. 출금 금액 입력
4. 은행 계좌 정보 입력
5. 출금 요청
6. 시스템 즉시 처리 (은행 영업일 1~3일 소요)

**결과**: 가용 잔액 감소, 은행 계좌 입금 대기

---

#### UC-007: 매월 자동 납입
**액터**: 시스템 (Cron Job)

**플로우**:
1. 매월 1일 00:00 배치 실행
2. 진행 중인 계모임 목록 조회 (status: ongoing)
3. 각 멤버별 납입 처리
   - 우리두 어카운트 잔액 확인
   - 잔액 충분 → 차감 및 계 금고 입금
   - 잔액 부족 → 7일 유예 알림
4. 수수료 차감 (플랫폼 수익)
   - 소액 (<10k): 1%
   - 일반 (10k-200k): 3%
   - 고액 (>200k): 1.5%
5. 장부 기록 (ledger_entries)

**결과**: 월 납입금 계 금고 입금, 장부 기록

---

### 4.4 SNS & 커뮤니티

#### UC-008: 피드 작성 및 공유
**액터**: 계 멤버

**플로우**:
1. 계모임 상세 화면에서 피드 작성 버튼 클릭
2. 피드 내용 입력 (최대 2,000자)
3. 이미지 업로드 (선택, 최대 10장)
   - 드래그 앤 드롭
   - S3 업로드
4. 피드 게시
5. 타임라인에 실시간 표시
6. 다른 멤버들에게 알림 (선택)

**결과**: 피드 생성, 타임라인 업데이트

---

#### UC-009: 댓글 및 좋아요
**액터**: 계 멤버

**플로우**:
1. 피드 조회
2. 좋아요 버튼 클릭 → 즉시 반영 (낙관적 업데이트)
3. 댓글 작성 (최대 500자)
4. 대댓글 작성 가능 (2단계까지)
5. 댓글에도 좋아요 가능

**결과**: 커뮤니티 활동 증가, 신뢰 점수 향상

---

### 4.5 투표 & 지출

#### UC-010: 지출 요청 및 투표
**액터**: 계주 또는 멤버

**플로우**:
1. 지출 요청 등록
   - 금액: 50,000원
   - 목적: "1월 모임 장소 대관료"
   - 카테고리: 장소 대관
   - 첨부: 견적서 이미지
2. 투표 생성 (자동)
   - 투표 기간: 72시간
   - 필요 찬성률: 과반수 (50%+1)
3. 멤버들 투표 참여
   - 찬성 / 반대 / 기권
4. 투표 종료
   - 과반수 찬성 → 승인
   - 미달 → 거절
5. 승인 시 자동 처리
   - 계 금고에서 차감
   - 장부 기록
   - 요청자에게 지급

**결과**: 투명한 지출 관리, 장부 기록

---

### 4.6 장부 & 분석

#### UC-011: 공개 장부 조회
**액터**: 계 멤버

**플로우**:
1. 장부 탭 진입
2. 타임라인 조회
   - 모든 입금/출금 기록
   - 거래 후 잔액
   - 거래 설명
3. 요약 대시보드 조회
   - 총 수입 / 총 지출 / 현재 잔액
   - 월별 지출 추이 (Recharts LineChart)
   - 카테고리별 지출 비율 (Recharts PieChart)
4. 상세 분석 요청
   - Spring Boot → Django 분석 요청
   - 지출 트렌드 분석
   - 다음 달 예상 지출

**결과**: 투명한 자금 흐름 확인, 데이터 기반 의사결정

---

### 4.7 탈퇴 & 완주

#### UC-012: 계모임 탈퇴
**액터**: 계 멤버 (계주 제외)

**플로우**:
1. 탈퇴 버튼 클릭
2. 탈퇴 사유 입력 (선택)
3. 탈퇴 확인
   - 계 상태가 "recruiting": 보증금 반환
   - 계 상태가 "ongoing": 보증금 몰수 → 남은 멤버들에게 균등 분배
4. 탈퇴 처리
   - 멤버 상태 → "left"
   - 현재 멤버 수 감소

**결과**: 멤버 탈퇴, 보증금 처리

---

#### UC-013: 계모임 완주
**액터**: 시스템

**플로우**:
1. 마지막 회차 완료 감지
2. 계 상태 → "completed"
3. 모든 멤버 보증금 해제
   - Lock 해제
   - 우리두 어카운트 가용 잔액으로 복귀
4. 신뢰 점수 업데이트
   - 완주율 +10점
   - 총 신뢰 점수 재계산
5. 완주 인증서 발급 (선택)

**결과**: 보증금 반환, 신뢰 점수 향상

---

## 🗄️ 5. ERD (Entity Relationship Diagram)

### 5.1 핵심 엔티티 구조

```
┌─────────────────────────────────────────────────────────┐
│                    사용자 & 재정                         │
└─────────────────────────────────────────────────────────┘

users (사용자)
├─ id (PK)
├─ email (UNIQUE)
├─ password_hash
├─ nickname
├─ profile_image
├─ created_at
└─ updated_at

user_financial_profiles (재정 프로필) 🌟
├─ id (PK)
├─ user_id (FK → users, UNIQUE)
├─ monthly_income (월 수입)
├─ monthly_expense (월 지출)
├─ savings_capacity (저축 가능액)
├─ expense_categories (JSONB: 지출 카테고리 비율)
├─ desired_contribution (희망 납입금)
├─ risk_tolerance (리스크 허용도: low/medium/high)
├─ created_at
└─ updated_at

user_trust_scores (신뢰 점수) 🌟
├─ id (PK)
├─ user_id (FK → users, UNIQUE)
├─ financial_health_score (재정 건전성: 0-100)
├─ completion_rate (완주율: 0-100)
├─ vote_participation (투표 참여율: 0-100)
├─ community_activity (커뮤니티 활동: 0-100)
├─ total_trust_score (종합 점수: 0-100)
└─ calculated_at

accounts (우리두 어카운트)
├─ id (PK)
├─ user_id (FK → users, UNIQUE)
├─ balance (가용 잔액)
├─ locked_balance (Lock 잔액)
├─ created_at
└─ updated_at

┌─────────────────────────────────────────────────────────┐
│                      계모임                              │
└─────────────────────────────────────────────────────────┘

gyes (계모임)
├─ id (PK)
├─ name
├─ description
├─ type (savings/distribution)
├─ status (recruiting/ongoing/completed/cancelled)
├─ host_id (FK → users) -- 계주
├─ monthly_amount (월 납입금)
├─ target_amount (목표 금액)
├─ current_amount (현재 금액)
├─ max_members (최대 인원)
├─ current_members (현재 인원)
├─ start_date
├─ end_date
├─ current_round
├─ total_rounds
├─ rules (JSONB)
├─ created_at
└─ updated_at

gye_members (계모임 멤버)
├─ id (PK)
├─ gye_id (FK → gyes)
├─ user_id (FK → users)
├─ role (host/member)
├─ status (active/pending/left/kicked)
├─ order_number (가입 순서)
├─ paid_rounds (납부 횟수)
├─ total_paid (총 납부 금액)
├─ joined_at
└─ left_at

┌─────────────────────────────────────────────────────────┐
│                      장부                                │
└─────────────────────────────────────────────────────────┘

ledger_entries (장부 기록)
├─ id (PK)
├─ gye_id (FK → gyes)
├─ user_id (FK → users)
├─ type (payment/payout/deposit_lock/deposit_unlock/penalty)
├─ amount
├─ balance (거래 후 잔액)
├─ round
├─ description
└─ created_at

┌─────────────────────────────────────────────────────────┐
│                      투표                                │
└─────────────────────────────────────────────────────────┘

votes (투표)
├─ id (PK)
├─ gye_id (FK → gyes)
├─ type (expense/kick/rule_change/dissolve)
├─ title
├─ description
├─ amount (지출 투표인 경우)
├─ target_user_id (FK → users, 퇴출 투표인 경우)
├─ required_ratio (필요 찬성률)
├─ status (open/approved/rejected/expired)
├─ expires_at
├─ created_at
└─ updated_at

vote_casts (투표 참여)
├─ id (PK)
├─ vote_id (FK → votes)
├─ user_id (FK → users)
├─ choice (approve/reject/abstain)
└─ created_at

┌─────────────────────────────────────────────────────────┐
│                      SNS                                 │
└─────────────────────────────────────────────────────────┘

posts (피드)
├─ id (PK)
├─ gye_id (FK → gyes)
├─ author_id (FK → users)
├─ type (normal/quote)
├─ content
├─ quoted_post_id (FK → posts)
├─ like_count
├─ comment_count
├─ created_at
├─ updated_at
└─ deleted_at

post_media (미디어)
├─ id (PK)
├─ post_id (FK → posts)
├─ type (image/video)
├─ url
├─ thumbnail_url
├─ width
├─ height
├─ size
└─ display_order

post_likes (피드 좋아요)
├─ id (PK)
├─ user_id (FK → users)
├─ post_id (FK → posts)
└─ created_at

comments (댓글)
├─ id (PK)
├─ post_id (FK → posts)
├─ author_id (FK → users)
├─ parent_comment_id (FK → comments) -- 대댓글
├─ content
├─ reply_count
├─ like_count
├─ created_at
├─ updated_at
└─ deleted_at

comment_likes (댓글 좋아요)
├─ id (PK)
├─ user_id (FK → users)
├─ comment_id (FK → comments)
└─ created_at

announcements (공지사항)
├─ id (PK)
├─ gye_id (FK → gyes)
├─ author_id (FK → users)
├─ title
├─ content
├─ priority (normal/important/urgent)
├─ is_pinned
├─ view_count
├─ created_at
└─ updated_at

announcement_reads (공지사항 읽음)
├─ id (PK)
├─ announcement_id (FK → announcements)
├─ user_id (FK → users)
└─ read_at

┌─────────────────────────────────────────────────────────┐
│                      기타                                │
└─────────────────────────────────────────────────────────┘

reports (신고)
├─ id (PK)
├─ reporter_id (FK → users)
├─ target_user_id (FK → users)
├─ gye_id (FK → gyes)
├─ reason
├─ description
├─ status (pending/resolved/rejected)
├─ created_at
└─ resolved_at

financial_analysis_logs (재정 분석 로그) 🌟
├─ id (PK)
├─ user_id (FK → users)
├─ request_payload (JSONB: Django 요청)
├─ response_payload (JSONB: Django 응답)
├─ analysis_type (financial_profile/gye_recommendation/monthly_stats)
└─ created_at
```

### 5.2 주요 관계

```
users 1 ──── N gyes (host_id)
users 1 ──── N gye_members
users 1 ──── 1 user_financial_profiles 🌟
users 1 ──── 1 user_trust_scores 🌟
users 1 ──── 1 accounts

gyes 1 ──── N gye_members
gyes 1 ──── N ledger_entries
gyes 1 ──── N votes
gyes 1 ──── N posts
gyes 1 ──── N announcements

posts 1 ──── N post_media
posts 1 ──── N post_likes
posts 1 ──── N comments

votes 1 ──── N vote_casts

comments 1 ──── N comment_likes
comments 1 ──── N comments (대댓글)
```

---

## 📊 6. 개발 우선순위

### Phase 0: 핵심 미션 (최우선) 🌟
> "고객 수입·지출 데이터 분석 기반" - 프로젝트 핵심

1. 재정 프로필 등록/조회 API (Spring Boot)
2. Django 재정 분석 엔드포인트
3. 신뢰 점수 계산 로직
4. 계모임 추천 API (Elasticsearch 연동)

### Phase 1: 환경 설정 (Week 1)
- 로컬 개발 환경 구축
- 로그인/인증 구현
- Seed 데이터 생성

### Phase 2-3: SNS 기능 (Week 2-4)
- 피드/댓글/좋아요 (18 APIs)
- 계모임 가입/관리

### Phase 4: 장부 & Django (Week 5)
- 공개 장부 타임라인/요약
- Django 분석 연동 (8 APIs)

### Phase 5: 투표 시스템 (Week 6-7)
- 지출 요청 투표 (5 APIs)

### Phase 6: 통합 테스트 (Week 8)

### Phase 7: 데모 준비 (Week 9)

---

## 🎯 7. 핵심 성공 지표 (KPI)

### 비즈니스 지표
- 계모임 생성 수
- 사용자 재정 프로필 등록률 🌟
- 계모임 추천 클릭률 🌟
- 계모임 완주율
- 평균 신뢰 점수 🌟
- 투표 참여율

### 기술 지표
- API 응답 시간 (p95 < 500ms)
- Django 분석 응답 시간 (< 2초) 🌟
- Elasticsearch 검색 속도 (< 100ms)
- 프론트엔드 빌드 시간 (< 5초)
- 모바일 Lighthouse 점수 (> 90)

---

## 📅 8. 일정

- **프로젝트 기간**: 68일 (10주)
- **데모 데이**: 2026-02-25
- **시연 방식**: 라이브 데모 (Mobile + Desktop 듀얼 시연)

---

## 👥 9. 팀 구성

```
총 인원: 3명
배경: SI 영업 출신, 종합 마케팅 매니저, 디지털 에이전시 대표

강점: ⭐⭐⭐⭐⭐ 기획력, 비즈니스 이해도, 사용자 관점
성장 중: 개발 역량 (KH정보교육원 풀스택 과정 이수 중)
```

---

## 🏆 10. 결론

> **"우리두는 단순한 핀테크가 아닙니다. 가장 안전하고 투명한 취향 공동체입니다."**

**1,220만 명**이 사용하는 모임통장 시장에서, **신뢰 문제**라는 근본적 약점을 **기술**로 해결합니다.

- 카카오 모임통장의 **접근성**
- 아임인의 **금융 기능**
- 소모임의 **커뮤니티 기능**

이 세 가지 장점을 결합하고, 각각의 **치명적 단점(먹튀 위험, 쏠림 현상, 이미지 손상)**을 **시스템 설계**로 원천 차단한 플랫폼.

그것이 **우리두(WOORIDO)**입니다.

### 핵심 메시지

> **"소모임처럼 모이고, 토스처럼 관리하되, 먹튀 걱정은 없다"**

1. **커뮤니티 = SNS**: 피드, 댓글, 공지로 소통
2. **자금 = 선충전 락**: 3개월 보증금으로 이탈 방지
3. **투명성 = 투표 + 장부**: 1원 단위까지 공개, 모든 지출 멤버 승인
4. **추천 = 데이터 분석**: 고객 재정 데이터 기반 맞춤 추천 🌟

---

**마지막 업데이트**: 2026-01-03
**작성자**: WOORIDO Project Team
**문서 버전**: v1.0
